<!DOCTYPE html>
<html class="no-js">
<head>
  <base href="http://tyche.cc//">
  <script>
    document._writeOriginal = document.write;
    document.write = function(str) {
        if (str.indexOf('livereload.js') > -1) {
            document._writeOriginal(str);
        } else {
            document._writeOriginal('<!-- Be Hijack!! -->');
        }
    }
  </script>
  <title>Create a Multilingual Site - tyche.cc</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<meta name="description" content="Introduction Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes: You already know the basics about creating a Hugo site You have a separate domain name for each language You&rsquo;ll use /data files for some translation strings You&rsquo;ll use single, combined layout and static folders You&rsquo;ll use a subfolder for each language under content and public">
<meta name="author" content="bihai">
<meta name="publisher" content="bihai">
<meta name="generator" content="http://tyche.cc/"/>

<meta itemprop="name" content="Create a Multilingual Site - tyche.cc">
<meta itemprop="description" content="Introduction Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes: You already know the basics about creating a Hugo site You have a separate domain name for each language You&rsquo;ll use /data files for some translation strings You&rsquo;ll use single, combined layout and static folders You&rsquo;ll use a subfolder for each language under content and public">
<meta itemprop="image" content="http://tyche.cc//public/bihai.jpg">

<meta property="og:title" content="Create a Multilingual Site - tyche.cc" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://tyche.cc/doc/tutorials/create-a-multilingual-site/" />
<meta property="og:image" content="http://tyche.cc//public/bihai.jpg" />
<meta property="og:description" content="Introduction Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes: You already know the basics about creating a Hugo site You have a separate domain name for each language You&rsquo;ll use /data files for some translation strings You&rsquo;ll use single, combined layout and static folders You&rsquo;ll use a subfolder for each language under content and public">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@bihaiorg">
<meta name="twitter:title" content="Create a Multilingual Site - tyche.cc">
<meta name="twitter:description" content="Introduction Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes: You already know the basics about creating a Hugo site You have a separate domain name for each language You&rsquo;ll use /data files for some translation strings You&rsquo;ll use single, combined layout and static folders You&rsquo;ll use a subfolder for each language under content and public">
<meta name="twitter:creator" content="@bihaiorg">
<meta name="twitter:image" content="http://tyche.cc//public/bihai.jpg">

  <script>document.documentElement.className = document.documentElement.className.replace("no-js", "js");</script>
  <link rel="canonical" href="http://tyche.cc/doc/tutorials/create-a-multilingual-site/">
  <link rel='shortlink' href="http://tyche.cc/doc/tutorials/create-a-multilingual-site/"/>
  <link rel="shortcut icon" href="http://tyche.cc//public/favicon.ico"/>
  
<link rel="stylesheet" id="human-style-css" href="/wp-content/themes/hueman/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="human-style-css2" href="/wp-content/themes/hueman-child/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="responsive-css" href="/wp-content/themes/hueman/responsive.css" type="text/css" media="all"/>
<link rel="stylesheet" id="font-awesome-css" href="/wp-content/themes/hueman/fonts/font-awesome.min.css" type="text/css" media="all"/>
<link rel="stylesheet" href="/public/highlight/styles/github.css">
<script src="/public/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" id="human-style-css3" href="/wp-content/themes/hueman-child/user.css" type="text/css" media="all"/>
<link rel="stylesheet" href="public/font/hack/css/hack.min.css">

<script type="text/javascript" src="assets/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/scripts.js"></script>
<script type="text/javascript" src="assets/picturefill/picturefill.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.matchHeight-min.js"></script>
<script type="text/javascript" async defer src="assets/js/myblog.js"></script>

</head>

<body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome">
<div id="wrapper">
  <header id="header">

  <nav class="nav-container group" id="nav-topbar">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap container">
      <a rel="nofollow" href="http://tyche.cc//" class="nav-cs-icon">
        <img width="40" height="40" src="/public/bihai.jpg" alt="bihai" title="Home">
      </a>
      <ul id="menu-default-menu" class="nav container-inner group">
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/">首页</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0-blog/">心得笔记-blog</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0-article/">技术文章-article</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E7%81%8C%E6%B0%B4%E4%B9%90%E4%B9%90-post/">灌水乐乐-post</a>
        </li>
        
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/post/">归档-Archive</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/about/">关于-About Me</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/post/linked-post/">Linked post</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">community</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">content</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">extras</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">getting started</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">layout</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">taxonomy</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">themes</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">troubleshooting</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">tutorials</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/feed.xml" type="application/rss+xml" target="_blank">订阅</a>
        </li>
        <li class="menu-item menu-item-type-post_type menu-item-text">
        tyche.cc
        </li>
      </ul>
    </div>

    <div class="container">
      <div class="container-inner">
        <div class="toggle-search"><i class="fa fa-search"></i></div>
        <div class="search-expand">
          <div class="search-expand-inner">
            <form method="get" class="searchform themeform" action="https://www.baidu.com/baidu">
              <div>
                <input type="text" class="search" name="word" placeholder="Press enter to start searching">
              </div>
            </form>
          </div>
        </div>
      </div>
      
    </div>
    

  </nav>
  

  <div class="container group">
    <div class="container-inner">

      <div class="group pad">

        <div class="group pad">
          <h1 class="site-title">
            <a rel="nofollow" href="http://tyche.cc//" rel="home">
              <img style="border-radius: 50%;width:72px;height:72px;margin:0 auto;" alt="bihai" src="/public/bihai.jpg"></img>
              tyche.cc
            </a>
          </h1>
          <p class="site-description"> tyche.cc your confidence, hope &amp; emotion. </p>
        </div>

      </div>
    </div>
    
  </div>
  

</header>



  <div class="container" id="page">
    <div class="container-inner">
      <div class="main">
        <div class="main-inner group">
          <section class="content">
            <div class="page-title pad group">
              <ul class="meta-single group">
                
              </ul>
            </div>

            <div class="pad group">

              <article
                  class="post type-post status-publish format-standard has-post-thumbnail hentry category-australien tag-bondi-beach tag-city2surf tag-sydney">
                <div class="post-inner group">

                  <h1 class="post-title">Create a Multilingual Site</h1>

                  <p class="post-byline">
                    by rick cogley · 8076年07月08日 · 818 Words ·
                    ~2min reading time |
                    <a href="https://github.com/bihai/tyche.cc/blob/master/content/doc/tutorials/create-a-multilingual-site.md"
                       target="_blank">Improve on <i class="fa fa-github"></i></a>
                  </p>

                  <div class="clear"></div>

                  <div class="entry">
                    <div class="entry-inner">
                      
                      

<h2 id="introduction">Introduction</h2>

<p>Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes:</p>

<ul>
<li>You already know the basics about creating a Hugo site</li>
<li>You have a separate domain name for each language</li>
<li>You&rsquo;ll use <code>/data</code> files for some translation strings</li>
<li>You&rsquo;ll use single, combined <code>layout</code> and <code>static</code> folders</li>
<li>You&rsquo;ll use a subfolder for each language under <code>content</code> and <code>public</code></li>
</ul>

<h2 id="site-configs">Site Configs</h2>

<p>Create your site configs in the root of your repository, for example for an English and Japanese site.</p>

<p><strong>English Config <code>config_en.toml</code></strong>:</p>

<pre><code class="language-toml">baseurl = &quot;http://acme.com/&quot;
title = &quot;Acme Inc.&quot;
contentdir = &quot;doc/content/en&quot;
publishdir = &quot;public/en&quot;

[params]
    locale = &quot;en-US&quot;
</code></pre>

<p><strong>Japanese Config <code>config_ja.toml</code></strong>:</p>

<pre><code class="language-toml">baseurl = &quot;http://acme.jp/&quot;
title = &quot;有限会社アクミー&quot;
contentdir = &quot;doc/content/ja&quot;
publishdir = &quot;public/ja&quot;

[params]
    locale = &quot;ja-JP&quot;
</code></pre>

<p>If you had more domains and languages, you would just create more config files. The standard <code>config.toml</code> is what Hugo will run as a default, but since we&rsquo;re creating language-specific ones, you&rsquo;ll need to specify each config file when running <code>hugo server</code> or just <code>hugo</code> before deploying.</p>

<h2 id="prep-translation-strings-in-data">Prep Translation Strings in <code>/data</code></h2>

<p>Create <code>.yaml</code> (or <code>.json</code> or <code>.toml</code>) files for each language, under <code>/data/translations</code>.</p>

<p><strong>English Strings <code>en-US.yaml</code></strong>:</p>

<pre><code class="language-yaml">topslogan: Acme Inc.
topsubslogan: You'll love us
...
</code></pre>

<p><strong>Japanese Strings <code>ja-JP.yaml</code></strong>:</p>

<pre><code class="language-yaml">topslogan: 有限会社アクミー
topsubslogan: キット勝つぞ
...
</code></pre>

<p>In some cases, where there is more complex formatting within the strings you want to show, it might be better to employ some conditional logic in your template, to display a block of html per language.</p>

<h2 id="reference-strings-in-templates">Reference Strings in templates</h2>

<p>Now you can reference the strings in your templates. One way is to do it like in this <code>layouts/index.html</code>, leveraging the fact that you have the locale set:</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;{{ .Site.Params.locale }}&quot;&gt;
...
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;{{ if eq .Site.Params.locale &quot;en-US&quot; }}{{ if .IsHome }}Welcome to {{ end }}{{ end }}{{ .Title }}{{ if eq .Site.Params.locale &quot;ja-JP&quot; }}{{ if .IsHome }}へようこそ{{ end }}{{ end }}{{ if ne .Title .Site.Title }} : {{ .Site.Title }}{{ end }}&lt;/title&gt;
    ...
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;h1 class=&quot;header&quot;&gt;{{ ( index $.Site.Data.translations $.Site.Params.locale ).topslogan }}&lt;/h1&gt;
      &lt;h3 class=&quot;subheader&quot;&gt;{{ ( index $.Site.Data.translations $.Site.Params.locale ).topsubslogan }}&lt;/h3&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>The above shows both techniques, using an <code>if eq</code> and <code>else if eq</code> to check the locale, and using <code>index</code> to pull strings from the data file that matches the locale set in the site&rsquo;s config file.</p>

<h2 id="customize-dates">Customize Dates</h2>

<p>At the time of this writing, Golang does not yet have support for internationalized locales, but if you do some work, you can simulate it. For example, if you want to use French month names, you can add a data file like <code>data/mois.yaml</code> with this content:</p>

<pre><code class="language-toml">1: &quot;janvier&quot;
2: &quot;février&quot;
3: &quot;mars&quot;
4: &quot;avril&quot;
5: &quot;mai&quot;
6: &quot;juin&quot;
7: &quot;juillet&quot;
8: &quot;août&quot;
9: &quot;septembre&quot;
10: &quot;octobre&quot;
11: &quot;novembre&quot;
12: &quot;décembre&quot;
</code></pre>

<p>&hellip; then index the non-English date names in your templates like so:</p>

<pre><code class="language-html">&lt;time class=&quot;post-date&quot; datetime=&quot;{{ .Date.Format &quot;2006-01-02T15:04:05Z07:00&quot; | safeHTML }}&quot;&gt;
  Article publié le {{ .Date.Day }} {{ index $.Site.Data.mois (printf &quot;%d&quot; .Date.Month) }} {{ .Date.Year }} (dernière modification le {{ .Lastmod.Day }} {{ index $.Site.Data.mois (printf &quot;%d&quot; .Lastmod.Month) }} {{ .Lastmod.Year }})
&lt;/time&gt;
</code></pre>

<p>This technique extracts the day, month and year by specifying <code>.Date.Day</code>, <code>.Date.Month</code>, and <code>.Date.Year</code>, and uses the month number as a key, when indexing the month name data file.</p>

<h2 id="create-multilingual-content">Create Multilingual Content</h2>

<p>Now you can create markdown content in your languages, in the <code>content/en</code> and <code>content/ja</code> folders. The frontmatter stays the same on the key side, but the values would be set in each of the languages.</p>

<h2 id="run-hugo-server-or-deploy-commands">Run Hugo Server or Deploy Commands</h2>

<p>Once you have things set up, you can run <code>hugo server</code> or <code>hugo</code> before deploying. You can create scripts to do it, or as shell functions. Here are sample basic <code>zsh</code> functions:</p>

<p><strong>Live Reload with <code>hugo server</code></strong>:</p>

<pre><code class="language-shell">function hugoserver-com {
  cd /Users/me/dev/mainsite
  hugo server --buildDrafts --verbose --source=&quot;/Users/me/dev/mainsite&quot; --config=&quot;/Users/me/dev/mainsite/config_en.toml&quot; --port=1377
}
function hugoserver-jp {
  cd /Users/me/dev/mainsite
  hugo server --buildDrafts --verbose --source=&quot;/Users/me/dev/mainsite&quot; --config=&quot;/Users/me/dev/mainsite/config_ja.toml&quot; --port=1399
}
</code></pre>

<p><strong>Deploy with <code>hugo</code> and <code>rsync</code></strong>:</p>

<pre><code class="language-shell">function hugodeploy-acmecom {
    rm -rf /tmp/acme.com
    hugo --config=&quot;/Users/me/dev/mainsite/config_en.toml&quot; -s /Users/me/dev/mainsite/ -d /tmp/acme.com
    rsync -avze &quot;ssh -p 22&quot; --delete /tmp/acme.com/ me@mywebhost.com:/home/me/webapps/acme_com_site
}

function hugodeploy-acmejp {
    rm -rf /tmp/acme.jp
    hugo --config=&quot;/Users/me/dev/mainsite/config_ja.toml&quot; -s /Users/me/dev/mainsite/ -d /tmp/acme.jp
    rsync -avze &quot;ssh -p 22&quot; --delete /tmp/acme.jp/ me@mywebhost.com:/home/me/webapps/acme_jp_site
}
</code></pre>

<p>Adjust to fit your situation, setting dns, your webserver config, and other settings as appropriate.</p>

                      
                    </div>
                    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                        <div style="float:left;margin-top:0px;">
                        <img src="/public/bihai.jpg" width="129px" height="129px"/>
                        <div style="text-align:center;">微信扫一扫交流</div>
                        </div>
                        <div>
                            <p style="margin-top:0px;">作者：<a target="_blank" href="http://tyche.cc/">bihai</a>
                            <br />微信关注：tychecc 太奇兮
                            <br />本文出处：<a target="_blank" href="http://tyche.cc/doc/tutorials/create-a-multilingual-site/">http://tyche.cc/doc/tutorials/create-a-multilingual-site/</a>
                            <br />
                            文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。 </p>
                        </div>
                    </div>
                    <div class="clear"></div>
                  </div>
                  

                </div>
                
              </article>
              
              <div class="clear"></div>
              
              
              
            </div>
          </section>
          <div class="sidebar s1">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>Follow:</p>
      <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/<bihaiorg>1</bihaiorg>" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On Twitter" rel="nofollow"
        href="https://twitter.com/bihaiorg" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/bihai" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

    </div>
    <div class="widget qrcode">
    <img src="/public/qrcode.jpg" alt="qrcode" width="172px" height="172px"/>
    <p> 微信扫一扫：<br/> 关注我的公众号： <br /> tychecc <br /></p>
</div>

    <ul class="post-nav group">
      <li class="next">
        
        <a href="http://tyche.cc/doc/tutorials/create-a-multilingual-site_en/" rel="next">
          <i class="fa fa-chevron-right"></i>
          <strong>Next post</strong>
          <span>Create a Multilingual Site</span>
        </a>
        
      </li>
      <li class="previous">
        
        <a href="http://tyche.cc/doc/tutorials/creating-a-new-theme_en/" rel="prev">
          <i class="fa fa-chevron-left"></i>
          <strong>Previous Post</strong>
          <span>Creating a New Theme</span>
        </a>
        
      </li>
    </ul>
    <div id="search-2" class="widget widget_search"><h3>Search</h3>
      <form method="get" class="searchform themeform" action="https://www.baidu.com/baidu">
        <div>
          <input type="text" class="search" name="word" placeholder="Press enter to start searching">
        </div>
      </form>
    </div>
  </div>
  
</div>

          <div class="sidebar s2">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>More</p>
    </div>
    <div id="categories-2" class="widget widget_categories"><h3>Categories</h3>
      <ul>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0-blog/">心得笔记-blog</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0-article/">技术文章-article</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E7%81%8C%E6%B0%B4%E4%B9%90%E4%B9%90-post/">灌水乐乐-post</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

        </div>
      </div>
    </div>
  </div>
  <footer id="footer">
  <section class="container" id="footer-bottom">
    <div class="container-inner">
      <a id="back-to-top" href="#"><i class="fa fa-angle-up"></i></a>
      <div class="pad group">
        <div class="grid one-half">
          <div id="copyright">
            <p>Copyright © 2016. All Rights Reserved. <br>Powered by
              <a rel="nofollow" href="http://gohugo.io/" target="_blank">Hugo - the static site generator</a>.
              <a rel="nofollow" href="http://golang.org" target="_blank">#golang</a>.
            </p>
          </div>
          
        </div>
        
        <div class="grid one-half last">
          <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/<bihaiorg>1</bihaiorg>" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On Twitter" rel="nofollow"
        href="https://twitter.com/bihaiorg" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/bihai" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

        </div>
      </div>

    </div>
    
  </section>
  
</footer>

</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10147768-2', 'auto');
  ga('send', 'pageview');

  $('#messagesbsb').remove();

</script>
</body>
</html>

