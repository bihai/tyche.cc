<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Introduction Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes: You already know the basics about creating a Hugo site You have a separate domain name for each language You&rsquo;ll use /data files for some translation strings You&rsquo;ll use single, combined layout and static folders You&rsquo;ll use a subfolder for each language under content and public">
        <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="tyche.cc">
        <link rel="icon" href="http://tyche.cc//favicon.ico">
        <title>Create a Multilingual Site - tyche.cc</title>
        <link rel="stylesheet" href="http://tyche.cc//css/highlight.js.min.css">
        <link rel="stylesheet" href="http://tyche.cc//css/bootstrap.min.css">
        <link rel="stylesheet" href="http://tyche.cc//css/bootstrap-theme.css">
        <link rel="stylesheet" href="http://tyche.cc//css/font-awesome/css/font-awesome.min.css" />
        
        <link rel="stylesheet" href="http://tyche.cc//css/hugo-org.css">
    </head>

<body role="document">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://tyche.cc//">tyche.cc</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="http://tyche.cc//">主页</a></li>
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">常用链接<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">官方文档<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



<div class="container-fluid">

<div class="row">
    <div class="col-xs-12 col-sm-3">
        
<aside>
    <div class="well">
        
        <div class="pull-right">Hugo v0.15.0(翻译中...)</div>
        <ul class="nav nav-list">
            
            
            
            <li>
                <label class="tree-toggle nav-header">归档-Archive</label>
                <ul class="nav nav-list">
                    <li>
                        <a href="/post/">归档-Archive</a>
                    </li>
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">关于-About Me</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/meta/release-notes/">Release Notes</a>
                    </li>
                    
                    <li>
                        <a href="/doc/meta/roadmap/">Hugo Roadmap</a>
                    </li>
                    
                    <li>
                        <a href="/doc/meta/license/">License</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">community</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/community/mailing-list/">Mailing List</a>
                    </li>
                    
                    <li>
                        <a href="/doc/community/contributing/">Contributing to Hugo</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">content</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/content/organization/">Organization</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/supported-formats/">Supported Formats</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/front-matter/">Front Matter</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/sections/">Sections</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/types/">Types</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/archetypes/">Archetypes</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/summaries/">Summaries</a>
                    </li>
                    
                    <li>
                        <a href="/doc/content/example/">Example</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">extras</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/extras/aliases/">Aliases</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/analytics/">Analytics</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/builders/">Builders</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/comments/">Comments</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/crossreferences/">Cross-References</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/livereload/">LiveReload</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/menus/">Menus</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/permalinks/">Permalinks</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/pagination/">Pagination</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/scratch/">Scratch</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/shortcodes/">Shortcodes</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/datafiles/">Data Files</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/highlighting/">Syntax Highlighting</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/datadrivencontent/">Data-driven Content</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/toc/">Table of Contents</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/localfiles/">Traversing Local Files</a>
                    </li>
                    
                    <li>
                        <a href="/doc/extras/urls/">URLs</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">getting started</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/overview/introduction/">Introduction</a>
                    </li>
                    
                    <li>
                        <a href="/doc/overview/quickstart/">Quickstart</a>
                    </li>
                    
                    <li>
                        <a href="/doc/overview/installing/">Installing Hugo</a>
                    </li>
                    
                    <li>
                        <a href="/doc/overview/usage/">Using Hugo</a>
                    </li>
                    
                    <li>
                        <a href="/doc/overview/configuration/">Configuration</a>
                    </li>
                    
                    <li>
                        <a href="/doc/overview/source-directory/">Source Organization</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">layout</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/templates/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/go-templates/">Go Template Primer</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/ace/">Ace templates</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/amber/">Amber templates</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/functions/">Functions</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/variables/">Variables</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/content/">Single Content</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/list/">List of Content</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/homepage/">Homepage</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/terms/">Taxonomy Terms</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/views/">Content Views</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/partials/">Partial Templates</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/rss/">RSS</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/sitemap/">Sitemap</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/404/">Custom 404 page</a>
                    </li>
                    
                    <li>
                        <a href="/doc/templates/debugging/">Debugging</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">taxonomy</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/taxonomies/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="/doc/taxonomies/usage/">Usage</a>
                    </li>
                    
                    <li>
                        <a href="/doc/taxonomies/displaying/">Displaying</a>
                    </li>
                    
                    <li>
                        <a href="/doc/taxonomies/templates/">Templates</a>
                    </li>
                    
                    <li>
                        <a href="/doc/taxonomies/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="/doc/taxonomies/methods/">Structure &amp; Methods</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">themes</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/themes/overview/">Themes Overview</a>
                    </li>
                    
                    <li>
                        <a href="/doc/themes/installing/">Installing Themes</a>
                    </li>
                    
                    <li>
                        <a href="/doc/themes/usage/">Using a Theme</a>
                    </li>
                    
                    <li>
                        <a href="/doc/themes/customizing/">Customizing a Theme</a>
                    </li>
                    
                    <li>
                        <a href="/doc/themes/creation/">Creating a Theme</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">troubleshooting</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/troubleshooting/overview/">Troubleshooting Overview</a>
                    </li>
                    
                    <li>
                        <a href="/doc/troubleshooting/strange-eof-error/">Strange EOF error</a>
                    </li>
                    
                    <li>
                        <a href="/doc/troubleshooting/categories-with-accented-characters/">Accented Categories</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">tutorials</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="/doc/tutorials/automated-deployments/">Automated deployments</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/creating-a-new-theme/">Creating a New Theme</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/github-pages-blog/">Hosting on GitHub</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/installing-on-mac/">Installing on Mac</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/installing-on-windows/">Installing on Windows</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/mathjax/">MathJax Support</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/migrate-from-jekyll/">Migrating from Jekyll</a>
                    </li>
                    
                    <li>
                        <a href="/doc/tutorials/create-a-multilingual-site/">Multilingual Site</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
              
            <li>
                <a href="https://github.com/coderzh/gohugo.org/edit/master/content/doc/tutorials/create-a-multilingual-site.md" target="blank">
                <i class='fa fa-edit'></i>修改此文章</a>
            </li>
            
            
        </ul>
    </div>
</aside>


    </div>
    <div class="col-xs-12 col-sm-9 doc-main">
        <main role="main">
            <article>
                <a id="title"></a>
                <h1 class="doc-entry-title">Create a Multilingual Site</h1>
                <section>
                    

<h2 id="introduction">Introduction</h2>

<p>Hugo allows you to create a multilingual site from its built-in tools. This tutorial will show one way to do it, and assumes:</p>

<ul>
<li>You already know the basics about creating a Hugo site<br /></li>
<li>You have a separate domain name for each language<br /></li>
<li>You&rsquo;ll use <code>/data</code> files for some translation strings<br /></li>
<li>You&rsquo;ll use single, combined <code>layout</code> and <code>static</code> folders<br /></li>
<li>You&rsquo;ll use a subfolder for each language under <code>content</code> and <code>public</code><br />
<br /></li>
</ul>

<h2 id="site-configs">Site Configs</h2>

<p>Create your site configs in the root of your repository, for example for an English and Japanese site.</p>

<p><strong>English Config <code>config_en.toml</code></strong>:</p>

<pre><code class="language-toml">baseurl = &quot;http://acme.com/&quot;
title = &quot;Acme Inc.&quot;
contentdir = &quot;doc/content/en&quot;
publishdir = &quot;public/en&quot;

[params]
    locale = &quot;en-US&quot;
</code></pre>

<p><strong>Japanese Config <code>config_ja.toml</code></strong>:</p>

<pre><code class="language-toml">baseurl = &quot;http://acme.jp/&quot;
title = &quot;有限会社アクミー&quot;
contentdir = &quot;doc/content/ja&quot;
publishdir = &quot;public/ja&quot;

[params]
    locale = &quot;ja-JP&quot;
</code></pre>

<p>If you had more domains and languages, you would just create more config files. The standard <code>config.toml</code> is what Hugo will run as a default, but since we&rsquo;re creating language-specific ones, you&rsquo;ll need to specify each config file when running <code>hugo server</code> or just <code>hugo</code> before deploying.</p>

<h2 id="prep-translation-strings-in-data">Prep Translation Strings in <code>/data</code></h2>

<p>Create <code>.yaml</code> (or <code>.json</code> or <code>.toml</code>) files for each language, under <code>/data/translations</code>.</p>

<p><strong>English Strings <code>en-US.yaml</code></strong>:</p>

<pre><code class="language-yaml">topslogan: Acme Inc.
topsubslogan: You'll love us
...
</code></pre>

<p><strong>Japanese Strings <code>ja-JP.yaml</code></strong>:</p>

<pre><code class="language-yaml">topslogan: 有限会社アクミー
topsubslogan: キット勝つぞ
...
</code></pre>

<p>In some cases, where there is more complex formatting within the strings you want to show, it might be better to employ some conditional logic in your template, to display a block of html per language.</p>

<h2 id="reference-strings-in-templates">Reference Strings in templates</h2>

<p>Now you can reference the strings in your templates. One way is to do it like in this <code>layouts/index.html</code>, leveraging the fact that you have the locale set:</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;{{ .Site.Params.locale }}&quot;&gt;
...
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;{{ if eq .Site.Params.locale &quot;en-US&quot; }}{{ if .IsHome }}Welcome to {{ end }}{{ end }}{{ .Title }}{{ if eq .Site.Params.locale &quot;ja-JP&quot; }}{{ if .IsHome }}へようこそ{{ end }}{{ end }}{{ if ne .Title .Site.Title }} : {{ .Site.Title }}{{ end }}&lt;/title&gt;
    ...
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;h1 class=&quot;header&quot;&gt;{{ ( index $.Site.Data.translations $.Site.Params.locale ).topslogan }}&lt;/h1&gt;
      &lt;h3 class=&quot;subheader&quot;&gt;{{ ( index $.Site.Data.translations $.Site.Params.locale ).topsubslogan }}&lt;/h3&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>The above shows both techniques, using an <code>if eq</code> and <code>else if eq</code> to check the locale, and using <code>index</code> to pull strings from the data file that matches the locale set in the site&rsquo;s config file.</p>

<h2 id="customize-dates">Customize Dates</h2>

<p>At the time of this writing, Golang does not yet have support for internationalized locales, but if you do some work, you can simulate it. For example, if you want to use French month names, you can add a data file like <code>data/mois.yaml</code> with this content:</p>

<pre><code class="language-toml">1: &quot;janvier&quot;
2: &quot;février&quot;
3: &quot;mars&quot;
4: &quot;avril&quot;
5: &quot;mai&quot;
6: &quot;juin&quot;
7: &quot;juillet&quot;
8: &quot;août&quot;
9: &quot;septembre&quot;
10: &quot;octobre&quot;
11: &quot;novembre&quot;
12: &quot;décembre&quot;
</code></pre>

<p>&hellip; then index the non-English date names in your templates like so:</p>

<pre><code class="language-html">&lt;time class=&quot;post-date&quot; datetime=&quot;{{ .Date.Format &quot;2006-01-02T15:04:05Z07:00&quot; | safeHTML }}&quot;&gt;
  Article publié le {{ .Date.Day }} {{ index $.Site.Data.mois (printf &quot;%d&quot; .Date.Month) }} {{ .Date.Year }} (dernière modification le {{ .Lastmod.Day }} {{ index $.Site.Data.mois (printf &quot;%d&quot; .Lastmod.Month) }} {{ .Lastmod.Year }})
&lt;/time&gt;
</code></pre>

<p>This technique extracts the day, month and year by specifying <code>.Date.Day</code>, <code>.Date.Month</code>, and <code>.Date.Year</code>, and uses the month number as a key, when indexing the month name data file.</p>

<h2 id="create-multilingual-content">Create Multilingual Content</h2>

<p>Now you can create markdown content in your languages, in the <code>content/en</code> and <code>content/ja</code> folders. The frontmatter stays the same on the key side, but the values would be set in each of the languages.</p>

<h2 id="run-hugo-server-or-deploy-commands">Run Hugo Server or Deploy Commands</h2>

<p>Once you have things set up, you can run <code>hugo server</code> or <code>hugo</code> before deploying. You can create scripts to do it, or as shell functions. Here are sample basic <code>zsh</code> functions:</p>

<p><strong>Live Reload with <code>hugo server</code></strong>:</p>

<pre><code class="language-shell">function hugoserver-com {
  cd /Users/me/dev/mainsite
  hugo server --buildDrafts --verbose --source=&quot;/Users/me/dev/mainsite&quot; --config=&quot;/Users/me/dev/mainsite/config_en.toml&quot; --port=1377
}
function hugoserver-jp {
  cd /Users/me/dev/mainsite
  hugo server --buildDrafts --verbose --source=&quot;/Users/me/dev/mainsite&quot; --config=&quot;/Users/me/dev/mainsite/config_ja.toml&quot; --port=1399
}
</code></pre>

<p><strong>Deploy with <code>hugo</code> and <code>rsync</code></strong>:</p>

<pre><code class="language-shell">function hugodeploy-acmecom {
    rm -rf /tmp/acme.com
    hugo --config=&quot;/Users/me/dev/mainsite/config_en.toml&quot; -s /Users/me/dev/mainsite/ -d /tmp/acme.com
    rsync -avze &quot;ssh -p 22&quot; --delete /tmp/acme.com/ me@mywebhost.com:/home/me/webapps/acme_com_site
}

function hugodeploy-acmejp {
    rm -rf /tmp/acme.jp
    hugo --config=&quot;/Users/me/dev/mainsite/config_ja.toml&quot; -s /Users/me/dev/mainsite/ -d /tmp/acme.jp
    rsync -avze &quot;ssh -p 22&quot; --delete /tmp/acme.jp/ me@mywebhost.com:/home/me/webapps/acme_jp_site
}
</code></pre>

<p>Adjust to fit your situation, setting dns, your webserver config, and other settings as appropriate.</p>

                </section>
            </article>
        </main>
        <br />
        
        <div class="row">
            <div class="col-xs-6 col-sm-6 text-center">
                
                <a href="/doc/tutorials/migrate-from-jekyll">&lt; 上一篇</a>
                
            </div>
            <div class="col-xs-6 col-sm-6 text-center">
                
            </div>
        </div>
        
    </div> 
</div>



<hr />

<div class="row">
    <div class="col-sm-12">
        
	    <div class="text-center">
        
		    <p class="doc-footer-em"><a href="#">回到顶部↑</a></p>
	    </div>
	</div>
</div>

</div> 

<footer class="doc-footer">
	
    <p>Copyright (c) 2016. All rights reserved. Generated by <a href="http://gohugo.io/">Hugo</a></p>
</footer>



<script src="http://tyche.cc//js/jquery-1.11.2.min.js"></script>
<script src="http://tyche.cc//js/bootstrap.min.js"></script>

<script src="http://tyche.cc//js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="http://tyche.cc//js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>

