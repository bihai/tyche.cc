<!DOCTYPE html>
<html class="no-js">
<head>
  <base href="https://tyche.cc//">
  <script>
    document._writeOriginal = document.write;
    document.write = function(str) {
        if (str.indexOf('livereload.js') > -1) {
            document._writeOriginal(str);
        } else {
            document._writeOriginal('<!-- Be Hijack!! -->');
        }
    }
  </script>
  <title>Data-driven Content - tyche.cc</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<meta name="description" content="Data-driven content with a static site generator? Yes, it is possible!
In addition to the data files feature, we have also implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load any JSON or CSV file from nearly any resource.
&ldquo;Data-driven Content&rdquo; currently consists of two functions, getJSON and getCSV, which are available in all template files.
Implementation details Calling the functions with an URL In any HTML template or Markdown document, call the functions like this:">
<meta name="author" content="bihai">
<meta name="publisher" content="bihai">
<meta name="generator" content="http://tyche.cc/"/>

<meta itemprop="name" content="Data-driven Content - tyche.cc">
<meta itemprop="description" content="Data-driven content with a static site generator? Yes, it is possible!
In addition to the data files feature, we have also implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load any JSON or CSV file from nearly any resource.
&ldquo;Data-driven Content&rdquo; currently consists of two functions, getJSON and getCSV, which are available in all template files.
Implementation details Calling the functions with an URL In any HTML template or Markdown document, call the functions like this:">
<meta itemprop="image" content="https://tyche.cc//public/bihai.jpg">

<meta property="og:title" content="Data-driven Content - tyche.cc" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tyche.cc/doc/extras/datadrivencontent_en/" />
<meta property="og:image" content="https://tyche.cc//public/bihai.jpg" />
<meta property="og:description" content="Data-driven content with a static site generator? Yes, it is possible!
In addition to the data files feature, we have also implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load any JSON or CSV file from nearly any resource.
&ldquo;Data-driven Content&rdquo; currently consists of two functions, getJSON and getCSV, which are available in all template files.
Implementation details Calling the functions with an URL In any HTML template or Markdown document, call the functions like this:">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@bihaiorg">
<meta name="twitter:title" content="Data-driven Content - tyche.cc">
<meta name="twitter:description" content="Data-driven content with a static site generator? Yes, it is possible!
In addition to the data files feature, we have also implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load any JSON or CSV file from nearly any resource.
&ldquo;Data-driven Content&rdquo; currently consists of two functions, getJSON and getCSV, which are available in all template files.
Implementation details Calling the functions with an URL In any HTML template or Markdown document, call the functions like this:">
<meta name="twitter:creator" content="@bihaiorg">
<meta name="twitter:image" content="https://tyche.cc//public/bihai.jpg">

  <script>document.documentElement.className = document.documentElement.className.replace("no-js", "js");</script>
  <link rel="canonical" href="https://tyche.cc/doc/extras/datadrivencontent_en/">
  <link rel='shortlink' href="https://tyche.cc/doc/extras/datadrivencontent_en/"/>
  <link rel="shortcut icon" href="https://tyche.cc//public/favicon.ico"/>
  
<link rel="stylesheet" id="human-style-css" href="/wp-content/themes/hueman/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="human-style-css2" href="/wp-content/themes/hueman-child/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="responsive-css" href="/wp-content/themes/hueman/responsive.css" type="text/css" media="all"/>
<link rel="stylesheet" id="font-awesome-css" href="/wp-content/themes/hueman/fonts/font-awesome.min.css" type="text/css" media="all"/>
<link rel="stylesheet" href="/public/highlight/styles/github.css">
<script src="/public/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" id="human-style-css3" href="/wp-content/themes/hueman-child/user.css" type="text/css" media="all"/>
<link rel="stylesheet" href="public/font/hack/css/hack.min.css">

<script type="text/javascript" src="assets/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/scripts.js"></script>
<script type="text/javascript" src="assets/picturefill/picturefill.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.matchHeight-min.js"></script>
<script type="text/javascript" async defer src="assets/js/myblog.js"></script>

</head>

<body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome">
<div id="wrapper">
  <header id="header">

  <nav class="nav-container group" id="nav-topbar">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap container">
      <a rel="nofollow" href="https://tyche.cc//" class="nav-cs-icon">
        <img width="40" height="40" src="/public/bihai.jpg" alt="bihai" title="Home">
      </a>
      <ul id="menu-default-menu" class="nav container-inner group">
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/">首页</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0-blog/">心得笔记-blog</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0-article/">技术文章-article</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/categories/%E7%81%8C%E6%B0%B4%E4%B9%90%E4%B9%90-post/">灌水乐乐-post</a>
        </li>
        
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/post/">归档-Archive</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/about/">关于-About Me</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/post/linked-post/">Linked post</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">community</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">content</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">extras</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">getting started</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">layout</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">taxonomy</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">themes</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">troubleshooting</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="">tutorials</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a rel="nofollow" href="/feed.xml" type="application/rss+xml" target="_blank">订阅</a>
        </li>
        <li class="menu-item menu-item-type-post_type menu-item-text">
        tyche.cc
        </li>
      </ul>
    </div>

    <div class="container">
      <div class="container-inner">
        <div class="toggle-search"><i class="fa fa-search"></i></div>
        <div class="search-expand">
          <div class="search-expand-inner">
            <form method="get" class="searchform themeform" action="https://www.baidu.com/baidu">
              <div>
                <input type="text" class="search" name="word" placeholder="Press enter to start searching">
              </div>
            </form>
          </div>
        </div>
      </div>
      
    </div>
    

  </nav>
  

  <div class="container group">
    <div class="container-inner">

      <div class="group pad">

        <div class="group pad">
          <h1 class="site-title">
            <a rel="nofollow" href="https://tyche.cc//" rel="home">
              <img style="border-radius: 50%;width:72px;height:72px;margin:0 auto;" alt="bihai" src="/public/bihai.jpg"></img>
              tyche.cc
            </a>
          </h1>
          <p class="site-description"> tyche.cc your confidence, hope &amp; emotion. </p>
        </div>

      </div>
    </div>
    
  </div>
  

</header>



  <div class="container" id="page">
    <div class="container-inner">
      <div class="main">
        <div class="main-inner group">
          <section class="content">
            <div class="page-title pad group">
              <ul class="meta-single group">
                
              </ul>
            </div>

            <div class="pad group">

              <article
                  class="post type-post status-publish format-standard has-post-thumbnail hentry category-australien tag-bondi-beach tag-city2surf tag-sydney">
                <div class="post-inner group">

                  <h1 class="post-title">Data-driven Content</h1>

                  <p class="post-byline">
                    by  · 14026年02月14日 · 604 Words ·
                    ~3min reading time |
                    <a href="https://github.com/bihai/tyche.cc/blob/master/content/doc/extras/datadrivencontent_en.md"
                       target="_blank">Improve on <i class="fa fa-github"></i></a>
                  </p>

                  <div class="clear"></div>

                  <div class="entry">
                    <div class="entry-inner">
                      
                      

<p>Data-driven content with a static site generator? Yes, it is possible!</p>

<p>In addition to the <a href="/doc/extras/datafiles/">data files</a> feature, we have also
implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load
any <a href="http://www.json.org/">JSON</a> or
<a href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> file
from nearly any resource.</p>

<p>&ldquo;Data-driven Content&rdquo; currently consists of two functions, <code>getJSON</code>
and <code>getCSV</code>, which are available in <strong>all template files</strong>.</p>

<h2 id="implementation-details">Implementation details</h2>

<h3 id="calling-the-functions-with-an-url">Calling the functions with an URL</h3>

<p>In any HTML template or Markdown document, call the functions like this:</p>

<pre><code>{{ $dataJ := getJSON &quot;url&quot; }}
{{ $dataC := getCSV &quot;separator&quot; &quot;url&quot; }}
</code></pre>

<p>or, if you use a prefix or postfix for the URL, the functions
accept <a href="http://en.wikipedia.org/wiki/Variadic_function">variadic arguments</a>:</p>

<pre><code>{{ $dataJ := getJSON &quot;url prefix&quot; &quot;arg1&quot; &quot;arg2&quot; &quot;arg n&quot; }}
{{ $dataC := getCSV  &quot;separator&quot; &quot;url prefix&quot; &quot;arg1&quot; &quot;arg2&quot; &quot;arg n&quot; }}
</code></pre>

<p>The separator for <code>getCSV</code> must be put in the first position and can only
be one character long.</p>

<p>All passed arguments will be joined to the final URL; for example:</p>

<pre><code>{{ $urlPre := &quot;https://api.github.com&quot; }}
{{ $gistJ := getJSON $urlPre &quot;/users/GITHUB_USERNAME/gists&quot; }}
</code></pre>

<p>will resolve internally to:</p>

<pre><code>{{ $gistJ := getJSON &quot;https://api.github.com/users/GITHUB_USERNAME/gists&quot; }}
</code></pre>

<p>Finally, you can range over an array. This example will output the
first 5 gists for a GitHub user:</p>

<pre><code>&lt;ul&gt;
  {{ $urlPre := &quot;https://api.github.com&quot; }}
  {{ $gistJ := getJSON $urlPre &quot;/users/GITHUB_USERNAME/gists&quot; }}
  {{ range first 5 $gistJ }}
    {{ if .public }}
      &lt;li&gt;&lt;a href=&quot;{{ .html_url }}&quot; target=&quot;_blank&quot;&gt;{{ .description }}&lt;/a&gt;&lt;/li&gt;
    {{ end }}
  {{ end }}
&lt;/ul&gt;
</code></pre>

<h3 id="example-for-csv-files">Example for CSV files</h3>

<p>For <code>getCSV</code>, the one-character long separator must be placed in the
first position followed by the URL.</p>

<pre><code>&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
    &lt;th&gt;Name&lt;/th&gt;
    &lt;th&gt;Position&lt;/th&gt;
    &lt;th&gt;Salary&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
  {{ $url := &quot;http://a-big-corp.com/finance/employee-salaries.csv&quot; }}
  {{ $sep := &quot;,&quot; }}
  {{ range $i, $r := getCSV $sep $url }}
    &lt;tr&gt;
      &lt;td&gt;{{ index $r 0 }}&lt;/td&gt;
      &lt;td&gt;{{ index $r 1 }}&lt;/td&gt;
      &lt;td&gt;{{ index $r 2 }}&lt;/td&gt;
    &lt;/tr&gt;
  {{ end }}
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p>The expression <code>{{index $r number}}</code> must be used to output the nth-column from
the current row.</p>

<h3 id="caching-of-urls">Caching of URLs</h3>

<p>Each downloaded URL will be cached in the default folder <code>$TMPDIR/hugo_cache/</code>.
The variable <code>$TMPDIR</code> will be resolved to your system-dependent
temporary directory.</p>

<p>With the command-line flag <code>--cacheDir</code>, you can specify any folder on
your system as a caching directory.</p>

<p>If you don&rsquo;t like caching at all, you can fully disable to read from the
cache with the command line flag <code>--ignoreCache</code>. However, Hugo will always
write, on each build of the site, to the cache folder (silent backup).</p>

<h3 id="authentication-when-using-rest-urls">Authentication when using REST URLs</h3>

<p>Currently, you can only use those authentication methods that can
be put into an URL. <a href="http://en.wikipedia.org/wiki/OAuth">OAuth</a> or
other authentication methods are not implemented.</p>

<h3 id="loading-local-files">Loading local files</h3>

<p>To load local files with the two functions <code>getJSON</code> and <code>getCSV</code>, the
source files must reside within Hugo&rsquo;s working directory. The file
extension does not matter but the content.</p>

<p>It applies the same output logic as in the topic: <em>Calling the functions with an URL</em>.</p>

<h2 id="livereload">LiveReload</h2>

<p>There is no chance to trigger a <a href="/doc/extras/livereload/">LiveReload</a> when
the content of an URL changes. However, when a local JSON/CSV file changes,
then a LiveReload will be triggered of course. Symlinks not supported.</p>

<p><strong>URLs and LiveReload</strong>: If you change any local file and the LiveReload
got triggered, Hugo will either read the URL content from the cache or, if
you have disabled the cache, Hugo will re-download the content.
This can create huge traffic and you may also reach API limits quickly.</p>

<p>As downloading of content takes a while, Hugo stops with processing
your Markdown files until the content has been downloaded.</p>

<h2 id="examples">Examples</h2>

<ul>
<li>Photo gallery JSON powered: <a href="https://github.com/pcdummy/hugo-lightslider-example">https://github.com/pcdummy/hugo-lightslider-example</a></li>
<li>GitHub Starred Repositories <a href="https://github.com/SchumacherFM/blog-cs/blob/master/content%2Fposts%2Fgithub-starred.md">in a posts</a> with the related <a href="https://github.com/SchumacherFM/blog-cs/blob/master/layouts%2Fshortcodes%2FghStarred.html">short code</a>.</li>
<li>More?  Please tell us!</li>
</ul>

                      
                    </div>
                    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                        <div style="float:left;margin-top:0px;">
                        <img src="/public/bihai.jpg" width="129px" height="129px"/>
                        <div style="text-align:center;">微信扫一扫交流</div>
                        </div>
                        <div>
                            <p style="margin-top:0px;">作者：<a target="_blank" href="http://tyche.cc/">bihai</a>
                            <br />微信关注：tychecc 太奇兮
                            <br />本文出处：<a target="_blank" href="https://tyche.cc/doc/extras/datadrivencontent_en/">https://tyche.cc/doc/extras/datadrivencontent_en/</a>
                            <br />
                            文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。 </p>
                        </div>
                    </div>
                    <div class="clear"></div>
                  </div>
                  

                </div>
                
              </article>
              
              <div class="clear"></div>
              
              
              
            </div>
          </section>
          <div class="sidebar s1">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>Follow:</p>
      <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/<bihaiorg>1</bihaiorg>" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On Twitter" rel="nofollow"
        href="https://twitter.com/bihaiorg" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/bihai" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

    </div>
    <div class="widget qrcode">
    <img src="/public/qrcode.jpg" alt="qrcode" width="172px" height="172px"/>
    <p> 微信扫一扫：<br/> 关注我的公众号： <br /> tychecc <br /></p>
</div>

    <ul class="post-nav group">
      <li class="next">
        
        <a href="https://tyche.cc/doc/templates/sitemap/" rel="next">
          <i class="fa fa-chevron-right"></i>
          <strong>Next post</strong>
          <span>Sitemap Template</span>
        </a>
        
      </li>
      <li class="previous">
        
        <a href="https://tyche.cc/doc/extras/datadrivencontent/" rel="prev">
          <i class="fa fa-chevron-left"></i>
          <strong>Previous Post</strong>
          <span>Data-driven Content</span>
        </a>
        
      </li>
    </ul>
    <div id="search-2" class="widget widget_search"><h3>Search</h3>
      <form method="get" class="searchform themeform" action="https://www.baidu.com/baidu">
        <div>
          <input type="text" class="search" name="word" placeholder="Press enter to start searching">
        </div>
      </form>
    </div>
  </div>
  
</div>

          <div class="sidebar s2">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>
  <div class="sidebar-content">
    <div class="sidebar-top group">
      <p>More</p>
    </div>
    <div id="categories-2" class="widget widget_categories"><h3>Categories</h3>
      <ul>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E5%BF%83%E5%BE%97%E7%AC%94%E8%AE%B0-blog/">心得笔记-blog</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0-article/">技术文章-article</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a rel="nofollow" href="/categories/%E7%81%8C%E6%B0%B4%E4%B9%90%E4%B9%90-post/">灌水乐乐-post</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

        </div>
      </div>
    </div>
  </div>
  <footer id="footer">
  <section class="container" id="footer-bottom">
    <div class="container-inner">
      <a id="back-to-top" href="#"><i class="fa fa-angle-up"></i></a>
      <div class="pad group">
        <div class="grid one-half">
          <div id="copyright">
            <p>Copyright © 2016. All Rights Reserved. <br>Powered by
              <a rel="nofollow" href="http://gohugo.io/" target="_blank">Hugo - the static site generator</a>.
              <a rel="nofollow" href="http://golang.org" target="_blank">#golang</a>.
            </p>
          </div>
          
        </div>
        
        <div class="grid one-half last">
          <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On WeiBo"
        href="http://weibo.com/<bihaiorg>1</bihaiorg>" target="_blank">
        <i class="fa fa-weibo"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On Twitter" rel="nofollow"
        href="https://twitter.com/bihaiorg" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/bihai" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

        </div>
      </div>

    </div>
    
  </section>
  
</footer>

</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10147768-2', 'auto');
  ga('send', 'pageview');

  $('#messagesbsb').remove();

</script>
</body>
</html>

